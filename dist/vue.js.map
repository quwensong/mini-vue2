{"version":3,"file":"vue.js","sources":["../src/util.js","../src/core/observer/array.js","../src/core/observer/dep.js","../src/core/observer/index.js","../src/utils/next-tick.js","../src/core/observer/schedular.js","../src/core/observer/watcher.js","../src/core/instance/state.js","../src/shared/utils.js","../src/utils/web.js","../src/core/vdom/create-element.js","../src/core/instance/render.js","../src/compiler/parser.js","../src/compiler/generate.js","../src/compiler/index.js","../src/core/vdom/patch.js","../src/core/instance/lifecycle.js","../src/shared/constants.js","../src/utils/mergeOptions.js","../src/core/instance/init.js","../src/core/global-api/mixin.js","../src/core/global-api/use.js","../src/core/global-api/assets.js","../src/core/global-api/extend.js","../src/core/global-api/index.js","../src/core/instance/index.js"],"sourcesContent":["// Browser environment sniffing\r\nexport const inBrowser = typeof window !== 'undefined'\r\nexport const UA = inBrowser && window.navigator.userAgent.toLowerCase()\r\nexport const isIE = UA && /msie|trident/.test(UA)\r\nexport const isIE9 = UA && UA.indexOf('msie 9.0') > 0\r\nexport const isEdge = UA && UA.indexOf('edge/') > 0\r\nexport const isAndroid = UA && UA.indexOf('android') > 0\r\nexport const isIOS = UA && /iphone|ipad|ipod|ios/.test(UA)\r\nexport const isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge\r\nexport const isPhantomJS = UA && /phantomjs/.test(UA)\r\nexport const isFF = UA && UA.match(/firefox\\/(\\d+)/)\r\n\r\nexport function isFunction(target){\r\n  return typeof target === 'function'\r\n}\r\n\r\nexport function isObject(target){\r\n  return typeof target === \"object\" && target !== null\r\n}\r\n\r\nexport function isArray(target){\r\n  return Array.isArray(target)\r\n}\r\n\r\n/**\r\n * Mix properties into target object.\r\n */\r\n export function extend(to,_from){\r\n  for (const key in _from) {\r\n    to[key] = _from[key]\r\n  }\r\n  return to\r\n}\r\n\r\n/**\r\n * Get the raw type string of a value, e.g., [object Object].\r\n */\r\n const _toString = Object.prototype.toString\r\n\r\n/**\r\n * Strict object type check. Only returns true\r\n * for plain JavaScript objects.\r\n */\r\n export function isPlainObject(obj) {\r\n  return _toString.call(obj) === '[object Object]'\r\n}\r\n\r\nexport function def(target,key,value,enumerable){\r\n  Object.defineProperty(target,key,{\r\n    value: value,\r\n    enumerable:!!enumerable,\r\n    writable:true,\r\n    configurable:true\r\n  })\r\n}\r\n/**\r\n * Check if val is a valid(æœ‰æ•ˆ) array index.\r\n */\r\n export function isValidArrayIndex(val) {\r\n  const n = parseFloat(String(val))\r\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function isNative(Ctor) {\r\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\r\n}\r\n\r\n/**\r\n * Check whether an object has the property.\r\n */\r\n const hasOwnProperty = Object.prototype.hasOwnProperty\r\n\r\n export function hasOwn(obj, key){\r\n   return hasOwnProperty.call(obj, key)\r\n }\r\n\r\n \r\n/**\r\n * Convert an Array-like object to a real Array.\r\n */\r\nexport function toArray(list, start) {\r\n  start = start || 0\r\n  let i = list.length - start\r\n  const ret = new Array(i)\r\n  while (i--) {\r\n    ret[i] = list[i + start]\r\n  }\r\n  return ret\r\n}\r\n","const oldArrProto = Array.prototype\r\nexport const arrayMethods = Object.create(oldArrProto);\r\n// Object.create ä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥ä½œä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹\r\nconst methods = [\r\n  'push',\r\n  'unshift',\r\n  'splice',\r\n  'pop',\r\n  'reserve',\r\n  'sort',\r\n  'shift'\r\n]\r\n// configurable:false,//èƒ½å¦ä½¿ç”¨deleteã€èƒ½å¦éœ€æ”¹å±æ€§ç‰¹æ€§ã€æˆ–èƒ½å¦ä¿®æ”¹è®¿é—®å™¨å±æ€§ã€ï¼Œfalseä¸ºä¸å¯é‡æ–°å®šä¹‰ï¼Œé»˜è®¤å€¼ä¸ºtrue\r\n// enumerable:false,//å¯¹è±¡å±æ€§æ˜¯å¦å¯é€šè¿‡for-inå¾ªç¯ï¼Œflaseä¸ºä¸å¯å¾ªç¯ï¼Œé»˜è®¤å€¼ä¸ºtrue\r\n// writable:false,//å¯¹è±¡å±æ€§æ˜¯å¦å¯ä¿®æ”¹,flaseä¸ºä¸å¯ä¿®æ”¹ï¼Œé»˜è®¤å€¼ä¸ºtrue\r\n\r\n// ç”¨æˆ·è°ƒç”¨çš„æ˜¯ä»¥ä¸Šä¸ƒä¸ªæ–¹æ³•ä¼šç”¨è‡ªå·±é‡å†™çš„ï¼Œå¦åˆ™å°±ç”¨åŸæ¥çš„æ•°ç»„åŸå‹ä¸Šé¢çš„æ–¹æ³•\r\nmethods.forEach(method =>{\r\n  // NOTE ç¼“å­˜åŸå§‹æ–¹æ³•\r\n  const original = oldArrProto[method]\r\n  // ä»£ç†\r\n  Object.defineProperty(arrayMethods,method,{\r\n    value:function mutator(...args){\r\n      const result = original.call(this,...args)\r\n      const ob = this.__ob__\r\n      let inserted;\r\n      switch(method){\r\n        case 'push':\r\n        case 'unshift':\r\n          inserted = args;\r\n          break;\r\n        case 'splice':\r\n          inserted = args.slice(2)\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      // å¦‚æœæœ‰æ–°å¢åŠ çš„å€¼è¦ç»§ç»­è¿›è¡ŒåŠ«æŒ\r\n      if(inserted) ob.observerArray(inserted)\r\n      ob.dep.notify()\r\n      return result\r\n    },\r\n    enumerable:false,\r\n    writable:false,\r\n    configurable:false\r\n  })\r\n    \r\n    \r\n})\r\n\r\n\r\n","// æ¯ä¸ªå±æ€§éƒ½åˆ†é…ä¸€ä¸ªDep,watcherä¸­ä¹Ÿè¦å­˜æ”¾è¿™ä¸ªDep,å¤šå¯¹å¤š\r\nlet uid = 0;\r\nclass Dep{\r\n  constructor(){\r\n    this.id = uid++\r\n    this.subs = [];//å­˜æ”¾ watcher\r\n  }\r\n  depend(){\r\n    // depè¦å­˜æ”¾ watcher watcherä¹Ÿè¦å­˜æ”¾ dep\r\n    if(window.target){\r\n      // æŠŠdepä¼ ç»™watcherå­˜å‚¨\r\n      window.target.addDep(this);//æ–°å¢\r\n    }\r\n  }\r\n  addSub(watcher){\r\n    this.subs.push(watcher);\r\n  }\r\n  removeSub(watcher){\r\n    remove(this.subs, watcher);\r\n  }\r\n  notify(){\r\n    const subs = this.subs.slice();\r\n    subs.forEach(watcher => watcher.update())\r\n  }\r\n}\r\n\r\nfunction remove(arr,item){\r\n  if(arr.length){\r\n    const index = arr.indexOf(item)\r\n    if(index > -1){\r\n      return arr.splice(index,1)\r\n    }\r\n  }\r\n}\r\n\r\nexport default Dep;","import { isObject,def,isValidArrayIndex,isArray,hasOwn} from \"../../util\"\r\nimport { arrayMethods } from './array'\r\nimport Dep from './dep'\r\n\r\n// NOTE æ£€æŸ¥__ob__æ˜¯å¦å¯ç”¨\r\nconst hasProto = '__ob__' in {}\r\nconst arrKeys = Object.getOwnPropertyNames(arrayMethods)\r\n\r\n//INFO è§‚æµ‹è€…ç±» ç±»æœ‰ç±»å‹ï¼Œå¯¹è±¡æ²¡æœ‰ç±»å‹\r\nclass Observer {\r\n  constructor(value) {\r\n    this.value = value,\r\n    this.dep = new Dep()\r\n    def(value,'__ob__',this)\r\n\r\n    // value.__ob__ = this;//æ‰€æœ‰è¢«åŠ«æŒçš„å±æ€§éƒ½æœ‰ __ob__\r\n    // NOTE 2ã€å¯¹valueä¸­çš„æ•°æ®è¿›è¡Œéå†å¾ªç¯ åŠ«æŒ \r\n    if(Array.isArray(value)){ //æ•°ç»„åŠ«æŒ \r\n      // å†…éƒ¨å¯¹æ•°ç»„ä¸é‡‡ç”¨ Object.defineProperty\r\n      // å¯¹æ•°ç»„åŸæ¥çš„æ–¹æ³•è¿›è¡Œæ”¹å†™ push shift pop unshift reserve sort splice/ \r\n      // __proto__æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ï¼ˆprototypeï¼‰å¯¹è±¡ \r\n      const augment = hasProto ? protoAugment : copyAugment\r\n      augment(value,arrayMethods,arrKeys)\r\n\r\n      // TAG å¦‚æœæ•°ç»„é‡Œé¢çš„æ˜¯å¯¹è±¡ï¼Œåˆ™éœ€è¦åŠ«æŒå¯¹è±¡\r\n      this.observerArray(value)\r\n\r\n    }else{\r\n      this.walk(value) //å¯¹è±¡åŠ«æŒ\r\n    }\r\n    \r\n  }\r\n  // éå†å¯¹è±¡\r\n  walk(value) {\r\n    // NOTE 3ã€éå†å¯¹è±¡ï¼Œå“åº”å¼åŠ«æŒ\r\n    Object.keys(value).forEach((key)=> defineReactive(value,key,value[key]))\r\n  }\r\n  // éå†æ•°ç»„\r\n  observerArray(value){\r\n    value.forEach((item)=> observer(item))\r\n  }\r\n\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n  // NOTE 4ã€valueæœ‰å¯èƒ½æ˜¯å¯¹è±¡ï¼Œå†è¿›è¡Œé€’å½’åŠ«æŒ\r\n  const childOb = observer(value)\r\n  // æ¯ä¸ªå±æ€§éƒ½å¯¹åº”ä¸€ä¸ª dep\r\n  let dep = new Dep()\r\n  Object.defineProperty(data, key,{\r\n    get(){\r\n      // å–å€¼çš„æ—¶å€™å°†wtacherå’Œdepå…³è”èµ·æ¥\r\n      // Dep.target\r\n      if(window.target){\r\n        // æ”¶é›†å¯¹è±¡ä¾èµ–(watcher)\r\n        dep.depend()\r\n        // æ”¶é›†æ•°ç»„ä¾èµ–(watcher)\r\n        if(childOb) childOb.dep.depend()\r\n      }\r\n      return value;\r\n    },\r\n    set(newValue){\r\n      // NOTE 5ã€å¦‚æœç”¨æˆ·èµ‹å€¼ä¸€ä¸ªæ–°çš„å¯¹è±¡éœ€è¦å°†è¿™ä¸ªå¯¹è±¡ä¹Ÿè¿›è¡ŒåŠ«æŒ\r\n      // TAGï¼šåªæœ‰æ–°å¢åŠ çš„å±æ€§æ˜¯å¯¹è±¡æ‰ä¼šè¿›è¡Œç›‘å¬åŠ«æŒ\r\n      if(newValue !== value){\r\n        observer(newValue)\r\n        // (å¯¹è±¡è§¦å‘æ”¶é›†çš„ watcher )å‘Šè¯‰å½“å‰çš„å±æ€§å­˜æ”¾çš„wtacheræ‰§è¡Œget()\r\n        dep.notify()\r\n        value = newValue\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction protoAugment(target,src,keys){\r\n  target.__ob__ = src\r\n}\r\nfunction copyAugment(target,src,keys){\r\n  for(var i=0;i<keys.length;i++){\r\n    const key = keys[i]\r\n    def(target,key,src[key])\r\n  }\r\n}\r\n\r\nexport function set(target,key,val) {\r\n  // targetæ˜¯æ•°ç»„å¹¶ä¸”keyæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç´¢å¼•å€¼ï¼Œå°±å…ˆè®¾ç½®lengthå±æ€§\r\n  if (isArray(target) && isValidArrayIndex(key)) {\r\n    target.length = Math.max(target.length, key)\r\n    target.splice(key, 1, val)\r\n    return val\r\n  }\r\n  // ç”±äºkeyå·²ç»å­˜åœ¨äºtargetä¸­ï¼Œæ‰€ä»¥å…¶å®è¿™ä¸ªkeyå·²ç»è¢«ä¾¦æµ‹äº†å˜åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç§æƒ…å†µå±äºä¿®æ”¹æ•°æ®ï¼Œç›´æ¥ç”¨keyå’Œvalæ”¹æ•°æ®å°±å¥½äº†\r\n  if (key in target && !(key in Object.prototype)) {\r\n    target[key] = val\r\n    return val\r\n  }\r\n  const ob = target.__ob__;\r\n  // é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯æ ¹æ•°æ®ï¼Ÿthis.$dataå°±æ˜¯æ ¹æ•°æ®ã€‚\r\n  if (target._isVue || (ob && ob.vmCount)) {\r\n      console.warn('targetä¸èƒ½æ˜¯Vue.jså®ä¾‹æˆ–Vue.jså®ä¾‹çš„æ ¹æ•°æ®å¯¹è±¡')\r\n    return val\r\n  }\r\n  // ä¸æ˜¯å“åº”å¼æ•°æ®ç›´æ¥èµ‹å€¼å°±è¡Œ\r\n  if (!ob) {\r\n    target[key] = val\r\n    return val\r\n  }\r\n  // NOTE å¤„ç†æ–°å¢çš„å±æ€§\r\n    /**\r\n   * å¦‚æœå‰é¢çš„æ‰€æœ‰åˆ¤æ–­æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆè¯´æ˜ç”¨æˆ·æ˜¯åœ¨å“åº”å¼æ•°æ®ä¸Š\r\n   * æ–°å¢äº†ä¸€ä¸ªå±æ€§ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦è¿½è¸ªè¿™ä¸ªæ–°å¢å±æ€§çš„å˜åŒ–ï¼Œå³ä½¿ç”¨\r\n   * defineReactiveå°†æ–°å¢å±æ€§è½¬æ¢æˆgetter/setterçš„å½¢å¼å³å¯ã€‚\r\n   */\r\n  defineReactive(ob.value, key, val)\r\n  // å‘targetçš„ä¾èµ–è§¦å‘å˜åŒ–é€šçŸ¥ï¼Œå¹¶è¿”å›val\r\n  ob.dep.notify()\r\n  return val\r\n}\r\n\r\nexport function del(target, key){\r\n  // æ•°ç»„\r\n  if(Array.isArray(target) && isValidArrayIndex(key)){\r\n    target.splice(key, 1)\r\n    return\r\n  }\r\n  \r\n  // å¯¹è±¡\r\n  const ob = target.__ob__;\r\n\r\n  if (target._isVue || (ob && ob.vmCount)) {\r\n    console.warn('targetä¸èƒ½æ˜¯Vue.jså®ä¾‹æˆ–Vue.jså®ä¾‹çš„æ ¹æ•°æ®å¯¹è±¡')\r\n    return \r\n  }\r\n  // å¦‚æœä¸æ˜¯targetè‡ªå·±çš„å±æ€§å°±é˜»æ­¢ç¨‹åºç»§ç»­æ‰§è¡Œ\r\n  if(!hasOwn(target, key)) return\r\n\r\n  delete target[key]\r\n  // åªæœ‰å“åº”å¼æ•°æ®æ‰éœ€è¦å‘é€é€šçŸ¥\r\n  if(!ob) return\r\n  ob.dep.notify()\r\n}\r\n\r\n\r\nexport function observer(value){\r\n  // NOTE: 1ã€å¦‚æœæ˜¯å¯¹è±¡æ‰è¿›è¡Œè§‚æµ‹\r\n  if(!isObject(value)) return \r\n  // NOTE: 2ã€å¦‚æœæ˜¯å“åº”å¼çš„ä¹Ÿæ²¡å¿…è¦å†è¿›è¡Œè§‚æµ‹äº†\r\n\r\n  let ob = null;\r\n  if(value.__ob__ && value.__ob__ instanceof Observer){\r\n    ob = value.__ob__\r\n  }else{\r\n    ob = new Observer(value)\r\n  }\r\n  return ob\r\n}","import { isNative,isIOS  } from '../util'\r\nexport let isUsingMicroTask = false\r\n\r\nconst callbacks = []\r\nlet pending = false\r\n\r\nfunction flushCallbacks() {\r\n  pending = false\r\n  const copies = callbacks.slice(0)\r\n  callbacks.length = 0\r\n  copies.forEach(cb => cb())\r\n}\r\n\r\nlet timerFunc\r\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\r\n  const p = Promise.resolve()\r\n  timerFunc = () => {\r\n    p.then(flushCallbacks)\r\n    if (isIOS) setTimeout(noop)\r\n  }\r\n  isUsingMicroTask = true\r\n} else if (\r\n  !isIE &&\r\n  typeof MutationObserver !== 'undefined' &&\r\n  (isNative(MutationObserver) ||\r\n    MutationObserver.toString() === '[object MutationObserverConstructor]')\r\n) {\r\n  let counter = 1\r\n  const observer = new MutationObserver(flushCallbacks)\r\n  const textNode = document.createTextNode(String(counter))\r\n  observer.observe(textNode, {\r\n    characterData: true\r\n  })\r\n\r\n  timerFunc = () => {\r\n    counter = (counter + 1) % 2\r\n    textNode.data = String(counter)\r\n  }\r\n  isUsingMicroTask = true\r\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\r\n  timerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n} else {\r\n  timerFunc = () => {\r\n    setTimeout(flushCallbacks, 0)\r\n  }\r\n}\r\n\r\nexport function nextTick(cb,ctx){\r\n  callbacks.push(() => {\r\n    if (cb) {\r\n      try {\r\n        cb.call(ctx)\r\n      } catch (e) {\r\n        console.error(e, ctx, 'nextTick')\r\n      }\r\n    }\r\n  })\r\n  if (!pending) {\r\n    pending = true\r\n    timerFunc()\r\n  }\r\n  \r\n}","import { nextTick } from '../../utils/next-tick'\r\n\r\nlet queue = []\r\nlet has = {}\r\nexport function queueWatch(watcher){\r\n  const id = watcher.id;\r\n  if(has[id] == null) {\r\n    queue.push(watcher)\r\n    has[id] = true\r\n    nextTick(()=>{\r\n      queue.forEach(watcher => watcher.run())\r\n      queue = []\r\n      has = {}\r\n    })\r\n  }\r\n}\r\n","import { queueWatch } from './schedular'\r\n\r\nconst bailRE = /[^\\w.$]/\r\n\r\nlet id = 0;\r\nclass Watcher{\r\n  constructor(vm,expOrFn,cb,options){\r\n    // é»˜è®¤è°ƒç”¨ä¸€æ¬¡æ›´æ–°å‡½æ•°\r\n    if(typeof expOrFn === 'function'){\r\n      this.getter = expOrFn\r\n    }else{\r\n      // a.b.c.då°±æ˜¯ä¸€ä¸ªkeypathï¼Œè¯´æ˜ä»vm.a.b.c.dä¸­è¯»å–æ•°æ®ã€‚\r\n      this.getter = parsePath(expOrFn)\r\n    }\r\n    if(options){\r\n      this.deep = !!options.deep\r\n    }else{\r\n      this.deep = false\r\n    }\r\n    this.vm = vm;\r\n    this.exprOrFn = expOrFn\r\n    this.cb = cb;\r\n    this.options = options;\r\n    this.id = id++\r\n    this.deps = []\r\n    this.depsId = new Set()\r\n    // é»˜è®¤åˆå§‹åŒ–\r\n    this.value = this.get()\r\n  }\r\n  // åˆå§‹åŒ–\r\n  get(){\r\n    /**\r\n     * ä¸€å®šè¦åœ¨window.target =undefinedä¹‹å‰å»è§¦å‘å­å€¼çš„æ”¶é›†ä¾èµ–é€»è¾‘ï¼Œ\r\n     * è¿™æ ·æ‰èƒ½ä¿è¯å­é›†æ”¶é›†çš„ä¾èµ–æ˜¯å½“å‰è¿™ä¸ªWatcherã€‚å¦‚æœåœ¨window.target\r\n     *  =undefinedä¹‹åå»è§¦å‘æ”¶é›†ä¾èµ–çš„é€»è¾‘ï¼Œé‚£ä¹ˆå…¶å®å½“å‰çš„Watcherå¹¶ä¸ä¼š\r\n     * è¢«æ”¶é›†åˆ°å­å€¼çš„ä¾èµ–åˆ—è¡¨ä¸­ï¼Œä¹Ÿå°±æ— æ³•å®ç°deepçš„åŠŸèƒ½ã€‚\r\n     * ç®€å•æ¥è¯´å°±æ˜¯ çˆ¶äº²å’Œå­å±æ€§çš„ dep éƒ½æ”¶é›†äº†çˆ¶äº²çš„ watcher\r\n     * åªè¦æœ‰ä¸€ä¸ªå˜åŒ–å°±ä¼šé€šçŸ¥watcheræ›´æ–°\r\n     */\r\n    window.target = this\r\n    const value = this.getter.call(this.vm,this.vm)\r\n    if(this.deep){\r\n      traverse(value)\r\n    }\r\n    window.target = undefined;\r\n    return value\r\n  }\r\n  // æ›´æ–°\r\n  update(){\r\n    queueWatch(this)\r\n  }\r\n  addDep(dep){\r\n    const id = dep.id\r\n    if(!this.depsId.has(id)){\r\n      this.depsId.add(id)\r\n      this.deps.push(dep)\r\n      // depå­˜å‚¨watcher\r\n      dep.addSub(this)\r\n    }\r\n  }\r\n  run(){\r\n    const oldValue = this.value\r\n    this.value = this.get()\r\n    // ç›‘å¬å™¨å®ç°åŸç†\r\n    this.cb.call(this.vm,oldValue,this.value)\r\n  }\r\n  // æŠŠwatcherå®ä¾‹ä»å½“å‰æ­£åœ¨è§‚å¯Ÿçš„çŠ¶æ€çš„ä¾èµ–åˆ—è¡¨ä¸­ç§»é™¤ã€‚\r\n  teardown(){\r\n    /**\r\n     * Watcherä¸­è®°å½•è‡ªå·±éƒ½è®¢é˜…äº†è°ï¼Œä¹Ÿå°±æ˜¯watcherå®ä¾‹è¢«æ”¶é›†è¿›äº†å“ªäº›Depé‡Œã€‚\r\n     * ç„¶åå½“Watcherä¸æƒ³ç»§ç»­è®¢é˜…è¿™äº›Depæ—¶ï¼Œå¾ªç¯è‡ªå·±è®°å½•çš„è®¢é˜…åˆ—è¡¨æ¥é€šçŸ¥\r\n     * å®ƒä»¬ï¼ˆDepï¼‰å°†è‡ªå·±ä»å®ƒä»¬ï¼ˆDepï¼‰çš„ä¾èµ–åˆ—è¡¨ä¸­ç§»é™¤æ‰ã€‚\r\n     */\r\n    let i = this.deps.length\r\n    while(i--){\r\n      this.deps[i].removeSub(this)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction parsePath(path){\r\n  // å¦‚æœä¸æ˜¯è¿™ç§æ ¼å¼ 'a.b.c'æ˜¯å‡½æ•°çš„è¯ç›´æ¥è¿”å›\r\n  if(bailRE.test(path)) return path;\r\n  \r\n  const segments = path.split('.')\r\n  return function(obj){\r\n    // è¿™é‡Œçš„objå°±æ˜¯å¤–é¢ä¼ è¿›æ¥çš„ this.vm\r\n    // ä¸€ç›´å¾€ä¸‹å–å€¼ç›´åˆ°å–åˆ°æœ€åé¢ä¸€å±‚\r\n    for(let i = 0; i < segments.length; i++){\r\n      if(!obj) return\r\n      obj = obj[segments[i]]\r\n    }\r\n    return obj;\r\n  }\r\n}\r\n  \r\nconst seenObjects = new Set()\r\n\r\nexport function traverse (val) {\r\n  _traverse(val, seenObjects)\r\n  seenObjects.clear()\r\n}\r\n  \r\nfunction _traverse (val, seen) {\r\n  let i, keys\r\n  const isArray = Array.isArray(val)\r\n  if ((!isArray && !isObject(val)) || Object.isFrozen(val)) {\r\n    return\r\n  }\r\n  if (val.__ob__) {\r\n    const depId = val.__ob__.dep.id\r\n    if (seen.has(depId)) {\r\n      return\r\n    }\r\n    seen.add(depId)\r\n  }\r\n  if (isArray) {\r\n    i = val.length\r\n    while (i--) _traverse(val[i], seen)\r\n  } else {\r\n    keys = Object.keys(val)\r\n    i = keys.length\r\n    while (i--) _traverse(val[keys[i]], seen)\r\n  }\r\n}\r\n\r\nexport default Watcher","import { set,del,observer } from '../observer/index'\r\nimport { isFunction } from '../../util'\r\nimport Watcher from '../observer/watcher'\r\n\r\nexport function initState(vm){\r\n  const options = vm.$options\r\n  // NOTE: 1ã€props åˆå§‹åŒ–\r\n  if(options.props){\r\n    // initProps()\r\n\r\n  }\r\n  // NOTE: 2ã€data åˆå§‹åŒ–\r\n  if(options.data){\r\n    initData(vm)\r\n\r\n  }\r\n  // NOTE: 3ã€computed åˆå§‹åŒ–\r\n  if(options.computed){\r\n    // initComputed()\r\n  }\r\n  // NOTE: 4ã€watch åˆå§‹åŒ–\r\n  if(options.watch){\r\n      // initWatch()\r\n  }\r\n\r\n\r\n  \r\n}\r\n\r\nfunction proxy(vm,source,key){\r\n  Object.defineProperty(vm,key,{\r\n    get() {\r\n      return vm[source][key]\r\n    },\r\n    set(newValue){\r\n      vm[source][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData(vm){\r\n  let data = vm.$options.data\r\n  // INFO: Vue2ä¸­ä¼šå°†dataä¸­æ‰€æœ‰çš„æ•°æ®è¿›è¡ŒåŠ«æŒ Object.defineProperty\r\n  if(!isFunction(data)){\r\n  }else{\r\n    // TAG ç»‘å®šthis é€šè¿‡_dataè¿›è¡Œå…³è”\r\n    data = vm._data = data.call(vm)\r\n  }\r\n  // TAG ç”¨æˆ· vm.name ä»£ç†--> vm._data.name \r\n  for(let key in data){\r\n    proxy(vm,'_data',key)\r\n  }\r\n  // NOTE: 1ã€æŠŠ data å˜æˆå“åº”å¼\r\n  observer(data)\r\n} \r\n\r\n\r\n\r\n\r\nexport function stateMixin(Vue) {\r\n  // Vue.jsä¸­è®¡ç®—å±æ€§ï¼ˆComputedï¼‰çš„å®ç°åŸç†ä¸expOrFnæ”¯æŒå‡½æ•°æœ‰å¾ˆå¤§çš„å…³ç³»\r\n\r\n  Vue.prototype.$set = set\r\n  Vue.prototype.$delete = del\r\n\r\n  Vue.prototype.$watch = function (expOrFn,cb,options) {\r\n    const vm = this\r\n    options = options || {}\r\n    options.user = true\r\n    const watcher = new Watcher(vm, expOrFn, cb, options)\r\n    // NOTE: 1.ä»£ç ä¼šåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä½¿ç”¨äº†immediateå‚æ•°ï¼Œå¦‚æœä½¿ç”¨äº†ï¼Œåˆ™ç«‹å³æ‰§è¡Œä¸€æ¬¡cbã€‚\r\n    if (options.immediate) {\r\n      cb.call(vm,watcher.value)\r\n    }\r\n    return function unwatchFn() {\r\n      watcher.teardown()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n */\r\n export function makeMap(str,expectsLowerCase) {\r\n  const map = Object.create(null)\r\n  const list = str.split(',')\r\n  for (let i = 0; i < list.length; i++) {\r\n    map[list[i]] = true\r\n  }\r\n  return expectsLowerCase ? val => map[val.toLowerCase()] : val => map[val]\r\n}\r\n","// import { inBrowser } from 'core/util/env'\r\nimport { makeMap } from '../shared/utils'\r\n\r\nexport const namespaceMap = {\r\n  svg: 'http://www.w3.org/2000/svg',\r\n  math: 'http://www.w3.org/1998/Math/MathML'\r\n}\r\n\r\nexport const isHTMLTag = makeMap(\r\n  'html,body,base,head,link,meta,style,title,' +\r\n    'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\r\n    'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\r\n    'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\r\n    's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\r\n    'embed,object,param,source,canvas,script,noscript,del,ins,' +\r\n    'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\r\n    'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\r\n    'output,progress,select,textarea,' +\r\n    'details,dialog,menu,menuitem,summary,' +\r\n    'content,element,shadow,template,blockquote,iframe,tfoot'\r\n)\r\n\r\n// this map is intentionally selective, only covering SVG elements that may\r\n// contain child elements.\r\nexport const isSVG = makeMap(\r\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\r\n    'foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\r\n    'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\r\n  true\r\n)\r\n\r\nexport const isPreTag = (tag) => tag === 'pre'\r\n\r\nexport const isReservedTag = (tag) => {\r\n  return isHTMLTag(tag) || isSVG(tag)\r\n}\r\n\r\nexport function getTagNamespace(tag) {\r\n  if (isSVG(tag)) {\r\n    return 'svg'\r\n  }\r\n  // basic support for MathML\r\n  // note it doesn't support other MathML elements being component roots\r\n  if (tag === 'math') {\r\n    return 'math'\r\n  }\r\n}\r\n\r\nconst unknownElementCache = Object.create(null)\r\nexport function isUnknownElement(tag) {\r\n  /* istanbul ignore if */\r\n  // if (!inBrowser) {\r\n  //   return true\r\n  // }\r\n  if (isReservedTag(tag)) {\r\n    return false\r\n  }\r\n  tag = tag.toLowerCase()\r\n  /* istanbul ignore if */\r\n  if (unknownElementCache[tag] != null) {\r\n    return unknownElementCache[tag]\r\n  }\r\n  const el = document.createElement(tag)\r\n  if (tag.indexOf('-') > -1) {\r\n    return (unknownElementCache[tag] =\r\n      el.constructor === window.HTMLUnknownElement ||\r\n      el.constructor === window.HTMLElement)\r\n  } else {\r\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\r\n  }\r\n}\r\n\r\nexport const isTextInputType = makeMap(\r\n  'text,number,password,search,email,tel,url'\r\n)\r\n","import { isReservedTag } from '../../utils/web'\r\nimport { isObject } from '../../util'\r\n\r\nexport function createElement(vm,tag,attrs={},...children){\r\n\r\n  // å¦‚æœæ˜¯åŸå§‹æ ‡ç­¾\r\n  if(isReservedTag(tag)){\r\n    return vnode(tag,attrs,children,undefined)\r\n  }else{//å¦‚æœæ˜¯ç»„ä»¶\r\n    const Ctor = vm.$options.components[tag]\r\n\r\n    return createComponent(vm,tag,attrs={},children,Ctor)\r\n  }\r\n\r\n}\r\n\r\nexport function createTextNode(vm,text){\r\n  return vnode(undefined,undefined,undefined,text)\r\n}\r\n\r\nfunction createComponent(vm,tag,attrs={},children,Ctor){\r\n  if(isObject(Ctor)){\r\n    // vm.$options._base å°±æ˜¯ Vue\r\n    Ctor = vm.$options._base.extend(Ctor)\r\n  }\r\n  \r\n  attrs.hook = {\r\n    init(vnode){\r\n      const { Ctor } = vnode.componentOptions\r\n      let child = vnode.componentInstance = new Ctor({_isComponent: true})\r\n      child.$mount()\r\n        \r\n    },\r\n    inserted(){\r\n\r\n    }\r\n  }\r\n  return vnode(`vue-component-${Ctor.cid}-${tag}`,attrs,undefined,undefined,{Ctor,children})\r\n}\r\n\r\nfunction vnode(tag,attrs,children,text,componentOptions){\r\n  return {\r\n    tag,\r\n    attrs,\r\n    key:attrs?.key,\r\n    children,\r\n    text,\r\n    componentOptions\r\n    // ...\r\n  }\r\n}","import { createElement,createTextNode } from \"../vdom/create-element\"\r\nimport { nextTick } from '../../utils/next-tick'\r\n// vm,tag,attrs,children,normalizationType\r\nexport function renderMixin(Vue){\r\n\r\n  Vue.prototype.$nextTick = function (fn) {\r\n    return nextTick(fn, this)\r\n  }\r\n  \r\n  Vue.prototype._render = function(){\r\n    const vm = this\r\n    const { render } = vm.$options\r\n    const vnode = render.call(vm)\r\n    return vnode\r\n  }\r\n  // åˆ›å»ºæ™®é€šdom\r\n  Vue.prototype._c = function(tag,attrs,...children){\r\n    return createElement(this,tag,attrs,...children)\r\n  }\r\n  // åˆ›å»ºæ–‡æœ¬dom\r\n  Vue.prototype._v = function(text){\r\n    return createTextNode(this,text)\r\n  }\r\n  // JSON\r\n  Vue.prototype._s = function(val){\r\n    if(typeof val === \"object\") return JSON.stringify(val)    \r\n    return val\r\n  }\r\n  \r\n}\r\n\r\n\r\nexport function initRender(vm) {\r\n  vm._vnode = null // the root of the child tree\r\n  vm._staticTrees = null // v-once cached trees\r\n  const options = vm.$options\r\n  vm.$createElement = (a, b, c) => createElement(vm, a, b, c)\r\n}\r\n\r\n\r\n","// Regular Expressions for parsing tags and attributes\r\n// NOTE æ ‡ç­¾å\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\r\n// NOTE æ ‡ç­¾åæ•è· é€šè¿‡æ­£åˆ™çš„åˆ†ç»„æŸ¥æ‰¾\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\r\n// NOTE åŒ¹é…å¼€å§‹æ ‡ç­¾\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\r\n// NOTE åŒ¹é…æ•´ä¸ªæ ‡ç­¾çš„å…³é—­\r\nconst startTagClose = /^\\s*(\\/?)>/\r\n// NOTE åŒ¹é…ç»“æŸæ ‡ç­¾\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\r\n// NOTE åŒ¹é…å±æ€§\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\nconst doctype = /^<!DOCTYPE [^>]+>/i\r\n// #7298: escape - to avoid being pased as HTML comment when inlined in page\r\nconst comment = /^<!\\--/\r\nconst conditionalComment = /^<!\\[/\r\n// NOTE åŒ¹é… {{ }}\r\nconst defaultTagRe = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nfunction createAstElement(tagName, attrs){\r\n  return {\r\n    tag:tagName,\r\n    type:1,\r\n    children:[],\r\n    parent:null,\r\n    attrs\r\n  }\r\n}\r\nlet root = null\r\nlet stack = []\r\nfunction start(tagName,attributes){\r\n  let parent = stack[stack.length - 1]\r\n  let element = createAstElement(tagName, attributes)\r\n  if(!root){\r\n    root = element\r\n  }\r\n  element.parent = parent\r\n  if(parent){\r\n    parent.children.push(element)\r\n  }\r\n  stack.push(element)\r\n}\r\nfunction end(tagName){\r\n  let last = stack.pop()\r\n  if(last.tag !==  tagName){\r\n    throw new Error(\"æ ‡ç­¾æœ‰è¯¯\")\r\n  }\r\n}\r\nfunction chars(text){\r\n  text = text.replace(/\\s/g,\"\")\r\n  let parent = stack[stack.length - 1]\r\n  if(text){\r\n    parent.children.push({\r\n      type:3,\r\n      text\r\n    })\r\n  }\r\n}\r\nexport function parserHTML(html){\r\n  function advance(len){\r\n    html = html.substring(len)\r\n  }\r\n  function parseStartTag(){\r\n    const start = html.match(startTagOpen)\r\n    if(start){\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs:[]\r\n      }\r\n      advance(start[0].length)\r\n      let end\r\n      let attr\r\n      while(!(end = html.match(startTagClose)) && (attr = html.match(attribute))){\r\n        match.attrs.push({name:attr[1],value:attr[3] || attr[4] || attr[5]})\r\n        advance(attr[0].length)\r\n      }\r\n      if(end){\r\n        advance(end[0].length)\r\n      }\r\n      return match;\r\n    }\r\n    return false;\r\n  }\r\n  // è§£æ template å­—ç¬¦ä¸²\r\n  while(html){ //çœ‹è§£æçš„å†…å®¹æ˜¯å¦å­˜åœ¨\r\n    let textEnd = html.indexOf('<')\r\n    if(textEnd == 0){\r\n      const startTagMatch = parseStartTag() //è§£æå¼€å§‹æ ‡ç­¾\r\n      if(startTagMatch){\r\n        start(startTagMatch.tagName,startTagMatch.attrs,)\r\n        continue\r\n      } \r\n      const endTagMatch = html.match(endTag) //è§£æç»“æŸæ ‡ç­¾\r\n      if(endTagMatch){\r\n        end(endTagMatch[1])\r\n        advance(endTagMatch[0].length)\r\n        continue\r\n      }\r\n    }\r\n    let text; // 1234</div>\r\n    if(textEnd > 0){\r\n      text = html.substring(0,textEnd)\r\n    }\r\n    if(text){\r\n      chars(text)\r\n      advance(text.length)\r\n    }\r\n  }\r\n  return root\r\n}\r\n","const defaultTagRe = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g //{{ name }}\r\n\r\nfunction genProps(attrs){\r\n  let str = ''\r\n  for (let i = 0; i < attrs.length; i++){\r\n    let attr = attrs[i]\r\n    if(attr.name === 'style'){\r\n      let styleObj = {}\r\n      attr.value.replace(/([^;:]+):([^;:]+)/g,function(){\r\n        styleObj[arguments[1]] = arguments[2]\r\n      })\r\n      attr.value = styleObj\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0,-1)}}`\r\n}\r\n\r\nfunction gen(el){\r\n  if(el.type == 1){\r\n    return generate(el)\r\n  }else{\r\n    let text = el.text\r\n    // return  `_v(\"${text}\")`\r\n    if(!defaultTagRe.test(text)){\r\n      return  `_v(\"${text}\")`\r\n    }else{\r\n      let tokens = [];\r\n      let match;\r\n      let lastIndex = defaultTagRe.lastIndex = 0;\r\n      while(match = defaultTagRe.exec(text)){\r\n        let index = match.index;//å¼€å§‹ç´¢å¼•\r\n        if(index > lastIndex){\r\n          tokens.push(JSON.stringify(text.slice(lastIndex,index)))\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`)\r\n        lastIndex = index + match[0].length //ç»“æŸç´¢å¼•\r\n      }\r\n      if(lastIndex < text.length){\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n}\r\n\r\nfunction genChildren(el){\r\n  let children = el.children\r\n  if(children){\r\n    return children.map(c => gen(c)).join(',')\r\n  }\r\n  return false\r\n\r\n}\r\n\r\nexport function generate(el){\r\n  // éå†æ ‘ï¼Œå°†æ ‘æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²\r\n  let children = genChildren(el)\r\n  let code = `_c(\"${el.tag}\",${el.attrs.length ? genProps(el.attrs) : 'undefined'\r\n  }${children? `,${children}`:''})`;\r\n  return code\r\n}","import { parserHTML } from './parser';\r\nimport { generate } from './generate';\r\n\r\n\r\nexport function compileToFunction(template){\r\n  console.log(\"ğŸš€  template\", template)\r\n  // TAG html -> ast -> render -> vnode -> çœŸå®dom\r\n  // NOTE 1ã€html -> ast\r\n  let root = parserHTML(template)\r\n  // NOTE 2ã€ast -> render\r\n  let code = generate(root);\r\n  // console.log(\"ğŸš€code\", code)\r\n  // _c(\"div\",),_v(\"hhha\"+_s(name)+\"hello\"),_c(\"span\",{class:\"span\"}),_v(\"hello\")))\r\n  //æ¨¡æ¿å¼•æ“é çš„æ˜¯ new Function + with\r\n  const render = new Function(`with(this){return ${code}}`);\r\n  // è°è°ƒç”¨çš„renderï¼Œthiså°±æŒ‡å‘è°\r\n  return render\r\n}","export function patch(oldVnode,vnode){\r\n  // å¦‚æœ oldVnode æ²¡æœ‰å€¼ï¼Œè¯´æ˜æ˜¯ç»„ä»¶çš„æŒ‚è½½ ï¼Œè°ƒç”¨å¦‚ä¸‹ä¼šèµ°åˆ°è¿™é‡Œ\r\n  // ğŸš€ ~ file: create-element.js ~ line 32 ~ init ~ child.$mount()\r\n  if(!oldVnode){\r\n    return createElm(vnode)\r\n  }else{\r\n    // NOTE 1ã€çœŸå®domèŠ‚ç‚¹\r\n    const isRealElement = oldVnode.nodeType\r\n    if(isRealElement){\r\n      const oldElm = oldVnode\r\n      // å…ˆæŠŠæ–°çš„è™šæ‹Ÿdomåˆ›å»ºä¸ºçœŸçš„domå…ƒç´ ï¼Œæ’å…¥åˆ°å’Œå½“å‰åŒä¸€å±‚çº§ï¼Œå†æŠŠåŸæ¥çš„è‡ªå·±åˆ æ‰\r\n      const parentElm = oldVnode.parentNode\r\n\r\n      const elm = createElm(vnode)\r\n      parentElm.insertBefore(elm, oldVnode.nextSibling)\r\n      // insertBefore() æ–¹æ³•åœ¨æ‚¨æŒ‡å®šçš„å·²æœ‰å­èŠ‚ç‚¹ä¹‹å‰æ’å…¥æ–°çš„å­èŠ‚ç‚¹ã€‚\r\n      parentElm.removeChild(oldElm)\r\n      // å°†æ¸²æŸ“å®Œæˆçš„çœŸå®domèŠ‚ç‚¹è¿”å›\r\n      return elm\r\n    }\r\n  }\r\n  \r\n}\r\n// NOTE è¿”å›çœŸå® domèŠ‚ç‚¹å…ƒç´ \r\nfunction createElm(vnode){\r\n  const {tag,attrs,children=[],text,vm} = vnode\r\n  // æ™®é€šå…ƒç´ \r\n  if(typeof tag === \"string\"){\r\n    // å®ä¾‹åŒ–ç»„ä»¶\r\n    if(createComponent(vnode)){\r\n      // åº”è¯¥è¿”å›çœŸå® dom\r\n      return \r\n    }\r\n\r\n    vnode.el = document.createElement(tag)\r\n    updateProperties(vnode)\r\n    children.forEach(child => {//é€’å½’åˆ›å»ºå„¿å­èŠ‚ç‚¹\r\n      vnode.el.appendChild(createElm(child))\r\n    });\r\n  }else{\r\n    vnode.el = document.createTextNode(text)\r\n  }\r\n  return vnode.el\r\n}\r\n\r\nfunction createComponent(vnode){\r\n  // åˆ›å»ºç»„ä»¶å®ä¾‹\r\n  let i = vnode.attrs\r\n  if((i = i.hook) && (i = i.init)){\r\n    i(vnode)\r\n  }\r\n  // æ‰§è¡Œå®Œæ¯•å\r\n  if(vnode.componentInstance){\r\n    return vnode.componentInstance.$el\r\n  }\r\n\r\n}\r\n\r\n// æ›´æ–°å±æ€§\r\nfunction updateProperties(vnode){\r\n  const newProps = vnode.data || {};\r\n  const el = vnode.el;\r\n\r\n  for(const key in newProps){\r\n    if(key == 'style'){\r\n      for(let styleName in newProps.style){\r\n        el.style[styleName] = newProps.style[styleName]\r\n      }\r\n    }else if(key == 'class'){\r\n      el.className = newProps.class\r\n    }else{\r\n      el.setAttribute(key,newProps)\r\n    }\r\n  }\r\n}","import { patch } from '../../core/vdom/patch'\r\nimport Watcher from '../../core/observer/watcher'\r\n\r\nexport function lifecycleMixin(Vue){\r\n  Vue.prototype._update = function(vnode){\r\n    const vm = this;\r\n    // INFO åˆå§‹åŒ– + æ›´æ–°\r\n    // ç”¨è™šæ‹ŸèŠ‚ç‚¹åˆ›å»ºçœŸå®èŠ‚ç‚¹æ›¿æ¢æ‰ $el\r\n    vm.$el = patch(vm.$el,vnode)\r\n  }\r\n}\r\n\r\nexport function mountComponent(vm,el){\r\n  const options = vm.$options\r\n  vm.$el = el;\r\n  callHook(vm,'beforeMount')\r\n  const updateComponent = () => {\r\n    // NOTE 1.è°ƒç”¨renderå‡½æ•°ï¼Œç”Ÿæˆè™šæ‹Ÿdom\r\n    // NOTE 2.ç”¨è™šæ‹Ÿdom ç”ŸæˆçœŸå®dom\r\n    vm._update(vm._render())\r\n\r\n  }\r\n\r\n  new Watcher(vm, updateComponent,()=>{},true)\r\n  callHook(vm,'mounted')\r\n}\r\n\r\nexport function callHook(vm,hook){\r\n  const handlers = vm.$options[hook]\r\n  if(handlers){\r\n    handlers.forEach(hook =>  hook.call(vm))\r\n  }\r\n}","export const SSR_ATTR = 'data-server-rendered'\r\n\r\nexport const ASSET_TYPES = ['component', 'directive', 'filter'] \r\n\r\nexport const LIFECYCLE_HOOKS = [\r\n  'beforeCreate',\r\n  'created',\r\n  'beforeMount',\r\n  'mounted',\r\n  'beforeUpdate',\r\n  'updated',\r\n  'beforeDestroy',\r\n  'destroyed',\r\n  'activated',\r\n  'deactivated'\r\n]\r\n","import { isFunction,hasOwn,isObject } from '../util'\r\nimport { LIFECYCLE_HOOKS } from '../shared/constants'\r\n/**\r\n * Default strategy.\r\n */\r\n const defaultStrat = function (parentVal, childVal) {\r\n  return childVal === undefined ? parentVal : childVal\r\n}\r\n// ç­–ç•¥\r\nlet strats = {}\r\n// åˆå¹¶ç”Ÿå‘½å‘¨æœŸç­–ç•¥\r\nfunction mergeHook(parentVal,childVal){\r\n  if(childVal){\r\n    if(parentVal){\r\n      return parentVal.concat(childVal)\r\n    }else{\r\n      return [childVal]\r\n    }\r\n  }else{\r\n    return parentVal;\r\n  }\r\n}\r\n\r\nLIFECYCLE_HOOKS.forEach(hook => {\r\n  strats[hook] = mergeHook\r\n})\r\n\r\n// åˆå¹¶ç»„ä»¶ç­–ç•¥\r\nstrats.components = function mergeAssets(parentVal,childVal){\r\n  const res = Object.create(parentVal) // res.__proto__ = parentVal\r\n  if(childVal){\r\n    for(let key in childVal) {\r\n      res[key] = childVal[key]\r\n    }\r\n  }\r\n  return res\r\n}\r\n// é€šè¿‡åŸå‹é“¾\r\n// $options:{\r\n//   components:{\r\n//     my-component3:{name: 'my-component3', data: Æ’}\r\n//     __proto__:{\r\n//       my-component: Æ’ VueComponent(options),\r\n//       my-component2: Æ’ VueComponent(options),\r\n//     }\r\n//   }\r\n// }\r\n\r\n/**\r\n * Merge two option objects into a new one.\r\n * Core utility used in both instantiation and inheritance.\r\n */\r\n export function mergeOptions(parent,child,vm) {\r\n\r\n  // normalizeProps(child, vm)\r\n  // normalizeInject(child, vm)\r\n  // normalizeDirectives(child)\r\n  const options = {} \r\n  let key\r\n  for (key in parent) {\r\n    mergeField(key)\r\n  }\r\n  for (key in child) {\r\n    // å¦‚æœå·²ç»åˆå¹¶è¿‡äº†å°±ä¸éœ€è¦å†æ¬¡åˆå¹¶äº†\r\n    if (!hasOwn(parent, key)) {\r\n      mergeField(key)\r\n    }\r\n  }\r\n  function mergeField(key) {\r\n    if(strats[key]){\r\n      return options[key] = strats[key](parent[key],child[key])\r\n    }\r\n    if(typeof parent[key] === 'object' && typeof child[key] == 'object') {\r\n      options[key] = {\r\n        ...parent[key],\r\n        ...child[key]\r\n      }\r\n    }else if(child[key] == null){\r\n      options[key] = parent[key]\r\n    }else{\r\n      options[key] = child[key]\r\n    }\r\n  }\r\n  return options\r\n}\r\n","import { initState } from \"./state\"\r\nimport { initRender } from './render'\r\nimport { compileToFunction } from '../../compiler/index'\r\nimport { mountComponent,callHook } from \"./lifecycle\"\r\n\r\nimport { mergeOptions } from '../../utils/mergeOptions'\r\n\r\nexport function initMixin(Vue){\r\n  Vue.prototype._init = function(options){\r\n    //TAGï¼šthiså’Œvmä¿å­˜çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥vmä¸Šé¢å¢åŠ å†…å®¹äº†ï¼Œå¯¹åº”çš„Vue\r\n    //TAGï¼šå®ä¾‹å¯¹è±¡ä¹Ÿä¼šå¢åŠ \r\n    const vm = this\r\n    // å°†ç”¨æˆ·è‡ªå·±çš„ options å’Œ Vue ä¸Šé¢çš„è¿›è¡Œåˆå¹¶\r\n    vm.$options = mergeOptions(vm.constructor.options ,options)\r\n    vm._self = vm\r\n\r\n    initRender(vm)\r\n     //NOTEï¼š1ã€å¯¹æ•°æ®è¿›è¡Œåˆå§‹åŒ–\r\n    callHook(vm, 'beforeCreate')\r\n    initState(vm)\r\n    callHook(vm, 'created')\r\n    //NOTE: 2ã€ç¼–è¯‘æŒ‚è½½\r\n    if(vm.$options.el){\r\n      // å°†æ•°æ®æŒ‚è½½åˆ°è¿™ä¸ªæ¨¡æ¿ä¸Šé¢\r\n      vm.$mount(vm.$options.el)\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function(el){\r\n    const vm = this;\r\n    let options = vm.$options\r\n    el = typeof el === 'string' ? document.querySelector(el) : el\r\n    vm.$el = el\r\n    \r\n    // å¦‚æœç”¨æˆ·æ²¡æœ‰ä¼ å…¥renderå‡½æ•°\r\n    if(!options.render){\r\n      let template =  options.template \r\n      // æ²¡æœ‰ä¼  templateä¸” el å­˜åœ¨\r\n      if(!template && el){\r\n        // å–æœ€å¤–å±‚çš„é‚£ä¸ª dom å­—ç¬¦ä¸² outerHTML\r\n        template = el.outerHTML\r\n        // æŠŠæ¨¡æ¿å˜æˆ render å‡½æ•°\r\n      }\r\n      const render = compileToFunction(template)\r\n      options.render = render\r\n    }\r\n    // è°ƒç”¨ renderæ–¹æ³•æ¸²æŸ“ä¸ºçœŸæ­£çš„domæ›¿æ¢é¡µé¢çš„å†…å®¹\r\n    //NOTE ç»„ä»¶çš„ç¬¬ä¸€æ¬¡æŒ‚è½½\r\n\r\n    console.log(\"ğŸš€ ~ 0000\", vm,el)\r\n\r\n    mountComponent(vm,el) \r\n  }\r\n}\r\n/**\r\n * <div id=\"d\">\r\n    <p>Content</p>\r\n    <p>Further Elaborated</p>\r\n  </div>  \r\n  å­—ç¬¦ä¸² '<div id=\"d\"><p>Content</p><p>Further Elaborated</p></div>'\r\n */\r\n\r\n","import { mergeOptions } from \"../../utils/mergeOptions\";\r\n\r\nexport function initMixin(Vue){\r\n  Vue.mixin = function(mixin){\r\n    // è¿™é‡Œçš„ this å°±æ˜¯ Vue \r\n    this.options = mergeOptions(this.options, mixin);\r\n    return this;\r\n  }\r\n}","import { toArray, isFunction } from '../../util.js'\r\n\r\nexport function initUse(Vue) {\r\n  Vue.use = function (plugin) {\r\n    const installedPlugins = this._installedPlugins || (this._installedPlugins = [])\r\n    if (installedPlugins.indexOf(plugin) > -1) {\r\n      return this\r\n    }\r\n    // additional parameters\r\n    const args = toArray(arguments, 1)\r\n    args.unshift(this)\r\n    if (isFunction(plugin.install)) {\r\n      plugin.install.apply(plugin, args)\r\n    } else if (isFunction(plugin)) {\r\n      plugin.apply(null, args)\r\n    }\r\n    installedPlugins.push(plugin)\r\n    return this\r\n  }\r\n}\r\n","import { ASSET_TYPES } from '../../shared/constants'\r\nimport { isFunction,isPlainObject } from '../../util'\r\n\r\nexport function initAssetRegisters(Vue){\r\n\r\n    ASSET_TYPES.forEach(type => {\r\n      Vue[type] = function (id,definition) {\r\n        if (!definition) {\r\n          return this.options[type + 's'][id]\r\n        } else {\r\n          if (type === 'component' && isPlainObject(definition)) {\r\n            definition.name = definition.name || id\r\n            definition = this.options._base.extend(definition)\r\n            // è¿™ä¸ªæ—¶å€™çš„ definition æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç»§æ‰¿è‡ª Vue\r\n          }\r\n          if (type === 'directive' && isFunction(definition)) {\r\n            definition = { bind: definition, update: definition }\r\n          }\r\n          // ä¸æ˜¯ç»„ä»¶ æŒ‡ä»¤é‚£å°±åªèƒ½æ˜¯è¿‡æ»¤å™¨äº†\r\n          // NOTEï¼šè¿™é‡Œæ˜¯é‡ç‚¹ ã€‚ã€‚ã€‚\r\n          this.options[type + 's'][id] = definition\r\n          return definition\r\n        }\r\n      }\r\n      // Vue.component() åªè¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±ä¼šå¾€Vue.options.componentsé‡Œé¢å¢åŠ ç»„ä»¶\r\n      // Vue.directive()åªè¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±ä¼šå¾€Vue.options.directivesé‡Œé¢å¢åŠ æŒ‡ä»¤\r\n      // Vue.filter()åªè¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±ä¼šå¾€Vue.options.filtersé‡Œé¢å¢åŠ è¿‡æ»¤å™¨\r\n    })\r\n}","import { extend} from '../../util'\r\nimport { mergeOptions } from '../../utils/mergeOptions'\r\nimport { ASSET_TYPES } from '../../shared/constants'\r\n\r\n\r\nexport function initExtend(Vue) {\r\n  Vue.cid = 0\r\n  let cid = 1\r\n    // ç±»çš„ç»§æ‰¿\r\n  Vue.extend = function (extendOptions) {\r\n    extendOptions = extendOptions || {}\r\n    const Super = this\r\n    const SuperId = Super.cid\r\n    // åšä¸€ä¸ªç¼“å­˜(ç¼“å­˜æ„é€ å‡½æ•°)\r\n    const cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {})\r\n    if (cachedCtors[SuperId]) {\r\n      return cachedCtors[SuperId]\r\n    }\r\n\r\n    const Sub = function VueComponent( options) {\r\n      this._init(options)\r\n    } \r\n\r\n    Sub.prototype = Object.create(Super.prototype)\r\n    Sub.prototype.constructor = Sub\r\n  \r\n    Sub.cid = cid++\r\n    Sub.options = mergeOptions(Super.options, extendOptions)\r\n\r\n    Sub['super'] = Super\r\n    \r\n    // if (Sub.options.props) {\r\n    //   initProps(Sub)\r\n    // }\r\n    // if (Sub.options.computed) {\r\n    //   initComputed(Sub)\r\n    // }\r\n    Sub.extend = Super.extend\r\n    Sub.mixin = Super.mixin\r\n    Sub.use = Super.use\r\n\r\n    ASSET_TYPES.forEach(function (type) {\r\n      Sub[type] = Super[type]\r\n    })\r\n    if (name) {\r\n      Sub.options.components[name] = Sub\r\n    }\r\n    // cache constructor\r\n    cachedCtors[SuperId] = Sub\r\n\r\n    return Sub\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { initMixin } from \"./mixin\";\r\nimport { initUse } from \"./use\";\r\nimport { initAssetRegisters } from './assets'\r\nimport { initExtend } from './extend';\r\n\r\nimport { ASSET_TYPES } from '../../shared/constants'\r\n\r\nexport function initGlobalAPI(Vue){\r\n  Vue.options = {};\r\n  Vue.options._base = Vue \r\n\r\n  initMixin(Vue)\r\n  initUse(Vue)\r\n  initExtend(Vue)\r\n\r\n  // åˆå§‹åŒ–å…¨å±€ è¿‡æ»¤å™¨ ç»„ä»¶ æŒ‡ä»¤\r\n  ASSET_TYPES.forEach(type => Vue.options[`${type}s`] = Object.create({}));\r\n  initAssetRegisters(Vue)\r\n\r\n  \r\n\r\n  \r\n\r\n\r\n}","import { initMixin } from './init'\r\nimport { stateMixin } from './state'\r\nimport { renderMixin } from './render'\r\nimport { lifecycleMixin } from './lifecycle'\r\nimport { initGlobalAPI } from '../global-api/index'\r\n\r\n//NOTE: options ä¸ºç”¨æˆ·ä¼ å…¥çš„é…ç½®é¡¹\r\nfunction Vue(options){\r\n\r\n  this._init(options)\r\n\r\n}\r\n\r\ninitMixin(Vue)\r\nstateMixin(Vue)\r\nrenderMixin(Vue)\r\nlifecycleMixin(Vue)\r\n\r\n// åˆå§‹åŒ–å…¨å±€API mixin \r\ninitGlobalAPI(Vue)\r\n\r\nexport default Vue"],"names":["inBrowser","window","UA","navigator","userAgent","toLowerCase","test","indexOf","isEdge","isIOS","match","isFunction","target","isObject","isArray","Array","_toString","Object","prototype","toString","isPlainObject","obj","call","def","key","value","enumerable","defineProperty","writable","configurable","isValidArrayIndex","val","n","parseFloat","String","Math","floor","isFinite","isNative","Ctor","hasOwnProperty","hasOwn","toArray","list","start","i","length","ret","oldArrProto","arrayMethods","create","methods","forEach","method","original","mutator","args","result","ob","__ob__","inserted","slice","observerArray","dep","notify","uid","Dep","id","subs","addDep","watcher","push","remove","update","arr","item","index","splice","hasProto","arrKeys","getOwnPropertyNames","Observer","augment","protoAugment","copyAugment","walk","keys","defineReactive","observer","data","childOb","get","depend","set","newValue","src","max","_isVue","vmCount","console","warn","del","callbacks","pending","flushCallbacks","copies","cb","timerFunc","Promise","p","resolve","then","setTimeout","noop","isIE","MutationObserver","counter","textNode","document","createTextNode","observe","characterData","setImmediate","nextTick","ctx","e","error","queue","has","queueWatch","run","bailRE","Watcher","vm","expOrFn","options","getter","parsePath","deep","exprOrFn","deps","depsId","Set","traverse","undefined","add","addSub","oldValue","removeSub","path","segments","split","seenObjects","_traverse","clear","seen","isFrozen","depId","initState","$options","props","initData","computed","watch","proxy","source","_data","stateMixin","Vue","$set","$delete","$watch","user","immediate","unwatchFn","teardown","makeMap","str","expectsLowerCase","map","isHTMLTag","isSVG","isReservedTag","tag","createElement","attrs","children","vnode","components","createComponent","text","_base","extend","hook","init","componentOptions","child","componentInstance","_isComponent","$mount","cid","renderMixin","$nextTick","fn","_render","render","_c","_v","_s","JSON","stringify","initRender","_vnode","_staticTrees","$createElement","a","b","c","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","attribute","createAstElement","tagName","type","parent","root","stack","attributes","element","end","last","pop","Error","chars","replace","parserHTML","html","advance","len","substring","parseStartTag","attr","name","textEnd","startTagMatch","endTagMatch","defaultTagRe","genProps","styleObj","arguments","gen","el","generate","tokens","lastIndex","exec","trim","join","genChildren","code","compileToFunction","template","log","Function","patch","oldVnode","createElm","isRealElement","nodeType","oldElm","parentElm","parentNode","elm","insertBefore","nextSibling","removeChild","updateProperties","appendChild","$el","newProps","styleName","style","className","setAttribute","lifecycleMixin","_update","mountComponent","callHook","updateComponent","handlers","ASSET_TYPES","LIFECYCLE_HOOKS","strats","mergeHook","parentVal","childVal","concat","mergeAssets","res","mergeOptions","mergeField","_objectSpread","initMixin","_init","constructor","_self","querySelector","outerHTML","mixin","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","apply","initAssetRegisters","definition","bind","initExtend","extendOptions","Super","SuperId","cachedCtors","_Ctor","Sub","VueComponent","initGlobalAPI"],"mappings":"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"}